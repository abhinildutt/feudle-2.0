{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sparkles = void 0;\n\nvar __1 = require(\"..\");\n\nvar components_1 = require(\"../components\");\n\nvar modules_1 = require(\"../systems/modules\");\n\nvar random = require(\"../systems/random\");\n\nvar sources = require(\"../systems/sources\");\n\nvar variation = require(\"../systems/variation\");\n\nvar util = require(\"../util\");\n/**\r\n * The standard sparkles template.\r\n *\r\n * @param source The source to emit the sparkles from.\r\n * @param options The (optional) configuration overrides.\r\n */\n\n\nfunction sparkles(source, options) {\n  var populated = util.overrideDefaults({\n    lifetime: variation.range(1, 2),\n    count: variation.range(10, 20),\n    speed: variation.range(100, 200),\n    size: variation.range(0.8, 1.8),\n    rotation: function () {\n      return new components_1.Vector(0, 0, random.randomRange(0, 360));\n    },\n    color: function () {\n      return components_1.Color.fromHsl(50, 100, random.randomRange(55, 85));\n    },\n    modules: [new modules_1.ModuleBuilder().drive(\"rotation\").by(function (t) {\n      return new components_1.Vector(0, 0, 200).scale(t);\n    }).relative().build(), new modules_1.ModuleBuilder().drive(\"size\").by(new components_1.NumericSpline({\n      time: 0,\n      value: 0\n    }, {\n      time: 0.3,\n      value: 1\n    }, {\n      time: 0.7,\n      value: 1\n    }, {\n      time: 1,\n      value: 0\n    })).through(\"relativeLifetime\").relative().build(), new modules_1.ModuleBuilder().drive(\"opacity\").by(new components_1.NumericSpline({\n      time: 0,\n      value: 1\n    }, {\n      time: 0.5,\n      value: 1\n    }, {\n      time: 1,\n      value: 0\n    })).through(\"relativeLifetime\").build()]\n  }, options);\n\n  var emitter = __1.scene.current.createEmitter({\n    emitterOptions: {\n      loops: 1,\n      duration: 3,\n      useGravity: false,\n      modules: populated.modules\n    },\n    emissionOptions: {\n      rate: 0,\n      bursts: [{\n        time: 0,\n        count: populated.count\n      }],\n      sourceSampler: sources.dynamicSource(source),\n      angle: variation.range(0, 360),\n      initialLifetime: populated.lifetime,\n      initialSpeed: populated.speed,\n      initialSize: populated.size,\n      initialRotation: populated.rotation,\n      initialColor: populated.color\n    },\n    rendererOptions: {\n      applyLighting: undefined,\n      shapeFactory: \"star\"\n    }\n  });\n\n  return emitter;\n}\n\nexports.sparkles = sparkles;","map":{"version":3,"mappings":"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","names":["sparkles","source","options","populated","util","overrideDefaults","lifetime","variation","range","count","speed","size","rotation","components_1","random","randomRange","color","fromHsl","modules","modules_1","drive","by","t","scale","relative","build","time","value","through","emitter","__1","current","createEmitter","emitterOptions","loops","duration","useGravity","emissionOptions","rate","bursts","sourceSampler","sources","dynamicSource","angle","initialLifetime","initialSpeed","initialSize","initialRotation","initialColor","rendererOptions","applyLighting","undefined","shapeFactory","exports"],"sources":["../../src/templates/sparkles.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}